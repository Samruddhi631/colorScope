<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Contrast Checker</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
  <nav class="sticky top-0 z-50">
      <div
        class="flex justify-between shadow items-center bg-white px-4 py-3 shadow-md border-b-[0.5px] border-gray-200"
      >
        <!-- Left side -->
        <div class="flex items-center gap-2">
          <div
            class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded flex items-center justify-center"
          >
            <span class="text-white font-bold text-sm">C</span>
          </div>
          <span class="font-bold text-lg">ColorScope</span>
        </div>
        <!-- Right side -->
        <div class="flex items-center gap-4">
          <!-- Tools Dropdown -->
          <div class="relative">
            <button
              id="toolsBtn"
              class="text-black text-base font-medium flex hover:text-blue-600 transition-colors"
            >
              Tools <i data-feather="chevron-down" class="w-4 h-4 mt-1.5"></i>
            </button>

            <!-- Dropdown Menu -->
            <div id="toolsDropdown"
            class="hidden overflow-hidden absolute right-0 mt-2 w-[100vh] h-[34vw] bg-white flex gap-5 rounded-xl shadow-xl border border-gray-200 z-50">
            
            <div class="flex flex-col m-4">
              <!-- Left Column -->
                <a href="/src/index.html" class="group block rounded-xl hover:bg-green-100 cursor-pointer p-3 gap-4 flex">
                <img src="/assets/menu_icon_generate.svg" class="w-14 h-14" alt="">
                <div class="flex flex-col">
                    <h2 class="font-bold text-2xl text-gray-800 group-hover:text-green-800">Palette Generator</h2>
                    <p class="text-gray-500 text-sm font-semibold group-hover:text-green-800">Create your palettes in seconds</p>
                    </div>
                  </a>
              <a href="src/explorePallete.html" class="group block rounded-xl hover:bg-pink-100 cursor-pointer p-3 gap-4 flex">
                <img src="/assets/menu_icon_explore.svg" class="w-14 h-14" alt="">
                <div class="flex flex-col">
                    <h2 class="font-bold text-2xl text-gray-800 group-hover:text-pink-800">Explore Palettes</h2>
                    <p class="text-gray-500 text-sm font-semibold group-hover:text-pink-800">Browse millions of trending color schemes</p>
                </div>
              </a>

              <a href="/src/imagePicker.html" class="group block rounded-xl hover:bg-blue-100 cursor-pointer p-3 gap-4 flex">
                <img src="/assets/menu_icon_image_picker.svg" class="w-14 h-14" alt="" />
                <div class="flex flex-col">
                <h2 class="font-bold text-2xl text-gray-800 group-hover:text-blue-800">Image Picker</h2>
                <p class="text-gray-500 text-sm font-semibold group-hover:text-blue-800">Get beautiful palettes from your photos</p>
                </div>
              </a>

              <a href="/src/contrastChecker.html" class="group block rounded-xl hover:bg-yellow-100 cursor-pointer p-3 gap-4 flex">
                <img src="/assets/menu_icon_contrast_checker.svg" class="w-14 h-14" alt="">
                <div class="flex flex-col">
                    <h2 class="font-bold text-2xl text-gray-800 group-hover:text-yellow-800">Contrast Checker</h2>
                    <p class="text-gray-500 text-sm font-semibold group-hover:text-yellow-800">Check the contrast between two colors</p>
                </div>
              </a>
              
                <a href="/src/gradientGenerator.html" class="group block rounded-xl hover:bg-purple-100 cursor-pointer p-3 gap-4 flex">
                <img src="/assets/menu_icon_visualizer.svg" class="w-14 h-14" alt="">
                <div class="flex flex-col">
                    <h2 class="font-bold text-2xl text-gray-800 group-hover:text-purple-800" >Gradient Generator</h2>
                    <p class="text-gray-500 text-sm font-semibold group-hover:text-purple-800">Preview your colors on real designs</p>
                </div>
              </a>
            </div>
            <!-- Right Column (Links) -->
              <div class="px-10 py-10 text-base text-black flex flex-col bg-gray-100 rounded-r-xl">
                <span class="hover:text-blue-600 cursor-pointer font-medium">List of colors</span>
                <span class="hover:text-blue-600 cursor-pointer font-medium">Browse Gradients</span>
                <span class="hover:text-blue-600 cursor-pointer font-medium">Create a Gradient</span>
                <span class="hover:text-blue-600 cursor-pointer font-medium">Make a Gradient Palette</span>
                <span class="hover:text-blue-600 cursor-pointer font-medium">Color Picker</span>
                <span class="hover:text-blue-600 cursor-pointer font-medium">Collage Maker</span>
                <span class="hover:text-blue-600 cursor-pointer font-medium">List of Fonts</span>
                <span class="hover:text-blue-600 cursor-pointer font-medium">Image Converter</span>
              </div>
          </div>
          </div>
          <div class="h-8 w-px bg-gray-300 mx-1"></div>
          <button
            class="text-pink-500 text-bse font-medium hover:text-pink-600 transition-colors">
            Go Pro
          </button>
          <button
            class="text-black text-base hover:text-gray-500 transition-colors"
          >
            Sign in
          </button>
          <button
            class="bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600 transition-colors"
          >
            Sign up
          </button>
        </div>
      </div>
      
    </nav>
  <div class="flex items-center justify-center min-h-screen bg-white">
     <div class="bg-white border rounded-xl shadow-sm p-6 max-w-6xl w-full grid grid-cols-2 gap-8">
    
    <!-- LEFT: Controls + Analytics -->
    <div>
      <!-- Color Pickers -->
      <div class="grid grid-cols-2 gap-6 mb-6">
        <div>
          <label class="block text-sm font-medium mb-1">Text color</label>
          <div class="flex items-center space-x-2">
            <input type="color" id="textColor" value="#261145" class="w-12 h-10 border rounded ">
            <input type="text" id="textHex" value="#261145" class="flex-1 border rounded p-2 text-sm">
          </div>
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">Background color</label>
          <div class="flex items-center space-x-2">
            <input type="color" id="bgColor" value="#E6ACDB" class="w-12 h-10 border rounded">
            <input type="text" id="bgHex" value="#E6ACDB" class="flex-1 border rounded p-2 text-sm">
          </div>
        </div>
      </div>

      <!-- Contrast Result -->
<h2 class="text-sm font-medium mb-2">Contrast</h2>
<div id="resultBox" class="rounded-lg overflow-hidden border">
  <!-- Top: Contrast Score -->
  <div class="flex items-center justify-between p-6" id="resultHeader">
    <div id="contrastValue" class="text-5xl font-bold text-green-600">-</div>
    <div class="text-right">
      <div id="contrastLabel" class="text-xl font-semibold  text-green-600">—</div>
      <div id="starRating" class="flex justify-end space-x-1 mt-1 text-green-100"></div>
    </div>
  </div>

  <!-- Bottom: Small / Large text results -->
  <div class="grid grid-cols-2 divide-x text-sm font-medium text-center">
    <div id="smallTextResult" class="flex items-center justify-center gap-2 p-4 text-green-600">
      Small text <span class="flex space-x-1" id="smallStars"></span>
    </div>
    <div id="largeTextResult" class="flex items-center justify-center gap-2 p-4  text-green-600">
      Large text <span class="flex space-x-1" id="largeStars"></span>
    </div>
  </div>
</div>


      <!-- Description -->
      <p id="descText" class="text-xs text-gray-600 mt-3">
        Good contrast for small text (below 18pt) and great contrast for large text (above 18pt or bold above 14pt).
        <a href="#" class="text-blue-600 underline">Click to enhance</a>
      </p>
    </div>

    <!-- RIGHT: Preview Example -->
    <div id="preview" class="rounded-xl flex flex-col items-center justify-center p-10">
      <h2 class="text-2xl font-bold mb-4">Quote n. 1</h2>
      <p class="text-base mb-4 max-w-md text-center">
        Perfection is achieved, not when there is nothing more to add,
        but when there is nothing left to take away.
      </p>
      <p class="text-sm font-semibold">Antoine de Saint-Exupéry</p>
    </div>
  </div>

  </div>
 
  <script>
    function hexToRgb(hex) {
      hex = hex.replace(/^#/, "");
      if (hex.length === 3) {
        hex = hex.split("").map(x => x + x).join("");
      }
      let bigint = parseInt(hex, 16);
      return {
        r: (bigint >> 16) & 255,
        g: (bigint >> 8) & 255,
        b: bigint & 255
      };
    }

    function luminance(r, g, b) {
      let a = [r, g, b].map(v => {
        v /= 255;
        return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);
      });
      return 0.2126 * a[0] + 0.7152 * a[1] + 0.0722 * a[2];
    }

    function contrast(rgb1, rgb2) {
      let L1 = luminance(rgb1.r, rgb1.g, rgb1.b);
      let L2 = luminance(rgb2.r, rgb2.g, rgb2.b);
      return (Math.max(L1, L2) + 0.05) / (Math.min(L1, L2) + 0.05);
    }

    function setStars(containerId, rating, maxStars = 3) {
      const el = document.getElementById(containerId);
      const starsContainer = document.createElement("div");
      starsContainer.className = "flex space-x-1 mt-1";
      starsContainer.innerHTML = "";

      for (let i = 1; i <= maxStars; i++) {
        let star = document.createElement("span");
        star.textContent = i <= rating ? "★" : "☆";
        star.className = i <= rating ? "text-green-600 text-lg" : "text-gray-300 text-lg";
        starsContainer.appendChild(star);
      }

      // Replace stars but keep text
      el.innerHTML = el.dataset.label || el.innerHTML.split(" ")[0];
      el.dataset.label = el.innerHTML.split(" ")[0];
      el.appendChild(starsContainer);
    }

    function updateContrast() {
      let textHex = document.getElementById("textHex").value.trim();
      let bgHex = document.getElementById("bgHex").value.trim();

      let textRgb = hexToRgb(textHex);
      let bgRgb = hexToRgb(bgHex);

      let ratio = contrast(textRgb, bgRgb);
      document.getElementById("contrastValue").textContent = ratio.toFixed(2);

      // Update preview colors
      const preview = document.getElementById("preview");
      preview.style.color = textHex;
      preview.style.backgroundColor = bgHex;

      // Overall rating
      if (ratio >= 7) {
        document.getElementById("contrastLabel").textContent = "Excellent";
        document.getElementById("resultBox").firstElementChild.className = "flex items-center justify-between p-6 bg-green-200";
        setStars("starRating", 5, 5);
      } else if (ratio >= 4.5) {
        document.getElementById("contrastLabel").textContent = "Very good";
        document.getElementById("resultBox").firstElementChild.className = "flex items-center justify-between p-6 bg-green-100";
        setStars("starRating", 4, 5);
      } else if (ratio >= 3) {
        document.getElementById("contrastLabel").textContent = "Fair";
        document.getElementById("resultBox").firstElementChild.className = "flex items-center justify-between p-6 bg-yellow-100";
        setStars("starRating", 2, 5);
      } else {
        document.getElementById("contrastLabel").textContent = "Fail";
        document.getElementById("resultBox").firstElementChild.className = "flex items-center justify-between p-6 bg-red-100";
        setStars("starRating", 0, 5);
      }

      // Small text (needs ≥ 4.5 to pass fully)
      let smallRating = ratio >= 7 ? 3 : ratio >= 4.5 ? 2 : ratio >= 3 ? 1 : 0;
      document.getElementById("smallTextResult").innerHTML = "Small text";
      setStars("smallTextResult", smallRating, 3);

      // Large text (needs ≥ 3 to pass)
      let largeRating = ratio >= 7 ? 3 : ratio >= 4.5 ? 2 : ratio >= 3 ? 1 : 0;
      document.getElementById("largeTextResult").innerHTML = "Large text";
      setStars("largeTextResult", largeRating, 3);
    }

    function syncInput(colorEl, hexEl) {
      colorEl.addEventListener("input", () => {
        hexEl.value = colorEl.value;
        updateContrast();
      });
      hexEl.addEventListener("input", () => {
        colorEl.value = hexEl.value;
        updateContrast();
      });
    }
    
    toolsBtn.addEventListener("click", (e) => {
    e.stopPropagation();
    toolsDropdown.classList.toggle("hidden");
  });

  // Close dropdown on outside click
  document.addEventListener("click", (e) => {
    if (!toolsDropdown.contains(e.target) && !toolsBtn.contains(e.target)) {
      toolsDropdown.classList.add("hidden");
    }
  });

  // Close dropdown on ESC
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") toolsDropdown.classList.add("hidden");
  });
    syncInput(document.getElementById("textColor"), document.getElementById("textHex"));
    syncInput(document.getElementById("bgColor"), document.getElementById("bgHex"));
 
    updateContrast();
    feather.replace();
  </script>
</body>
</html>
